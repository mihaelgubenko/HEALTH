<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Отчет о тестировании админки - Центр "Новая Жизнь"</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-blue: #4A90E2;
            --primary-green: #27AE60;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-green) 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .summary-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: none;
        }
        
        .metric-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: none;
            transition: transform 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
        }
        
        .metric-number {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .metric-label {
            color: #6c757d;
            font-weight: 500;
        }
        
        .success-rate {
            background: linear-gradient(135deg, var(--success-color) 0%, #20c997 100%);
            color: white;
        }
        
        .total-tests {
            background: linear-gradient(135deg, var(--info-color) 0%, #6f42c1 100%);
            color: white;
        }
        
        .passed-tests {
            background: linear-gradient(135deg, var(--success-color) 0%, #28a745 100%);
            color: white;
        }
        
        .failed-tests {
            background: linear-gradient(135deg, var(--danger-color) 0%, #e74c3c 100%);
            color: white;
        }
        
        .test-result {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #ddd;
            transition: all 0.3s ease;
        }
        
        .test-result:hover {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }
        
        .test-result.success {
            border-left-color: var(--success-color);
            background: linear-gradient(135deg, #f8fff9 0%, #e8f5e8 100%);
        }
        
        .test-result.failure {
            border-left-color: var(--danger-color);
            background: linear-gradient(135deg, #fff8f8 0%, #f8e8e8 100%);
        }
        
        .test-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        .test-status {
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }
        
        .test-message {
            color: #6c757d;
            margin-bottom: 0.5rem;
        }
        
        .test-duration {
            font-size: 0.9rem;
            color: #adb5bd;
        }
        
        .test-details {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        .category-section {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .category-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--primary-blue);
            display: flex;
            align-items: center;
        }
        
        .category-icon {
            margin-right: 0.5rem;
            font-size: 1.2rem;
        }
        
        .progress-ring {
            width: 120px;
            height: 120px;
            margin: 0 auto;
        }
        
        .progress-ring circle {
            fill: transparent;
            stroke-width: 8;
            stroke-linecap: round;
        }
        
        .progress-ring .background {
            stroke: #e9ecef;
        }
        
        .progress-ring .progress {
            stroke: var(--success-color);
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transform-origin: center;
            transform: rotate(-90deg);
            animation: progress 2s ease-out forwards;
        }
        
        @keyframes progress {
            to {
                stroke-dashoffset: calc(283 - (283 * var(--progress)) / 100);
            }
        }
        
        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .recommendations {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 1px solid #ffeaa7;
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2rem;
        }
        
        .recommendations h3 {
            color: #856404;
            margin-bottom: 1rem;
        }
        
        .recommendation-item {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--warning-color);
        }
        
        .footer {
            text-align: center;
            padding: 2rem;
            color: #6c757d;
            margin-top: 3rem;
        }
        
        .badge-custom {
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
        }
        
        .performance-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }
        
        .performance-excellent { background-color: var(--success-color); }
        .performance-good { background-color: var(--info-color); }
        .performance-warning { background-color: var(--warning-color); }
        .performance-poor { background-color: var(--danger-color); }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-stethoscope me-3"></i>Отчет о тестировании админки</h1>
                    <p class="subtitle">Центр здоровья "Новая Жизнь" - 21.10.2025 00:40</p>
                </div>
                <div class="col-md-4 text-end">
                    <div class="progress-ring">
                        <svg width="120" height="120">
                            <circle class="background" cx="60" cy="60" r="45"></circle>
                            <circle class="progress" cx="60" cy="60" r="45" 
                                    style="--progress: 100,0"></circle>
                        </svg>
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-weight: bold; font-size: 1.2rem;">
                            100,0%
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Общая статистика -->
        <div class="summary-card">
            <h2 class="mb-4"><i class="fas fa-chart-bar me-2"></i>Общая статистика</h2>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <div class="metric-card total-tests">
                        <div class="metric-number">16</div>
                        <div class="metric-label">Всего тестов</div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="metric-card passed-tests">
                        <div class="metric-number">16</div>
                        <div class="metric-label">Пройдено</div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="metric-card failed-tests">
                        <div class="metric-number">0</div>
                        <div class="metric-label">Провалено</div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="metric-card success-rate">
                        <div class="metric-number">100,0%</div>
                        <div class="metric-label">Успешность</div>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6">
                    <p><strong>Время выполнения:</strong> 2,857с</p>
                </div>
                <div class="col-md-6">
                    <p><strong>Статус:</strong> 
                        
                            <span class="badge bg-success">Отлично</span>
                        
                    </p>
                </div>
            </div>
        </div>

        <!-- График результатов -->
        <div class="chart-container">
            <h3 class="mb-4"><i class="fas fa-chart-pie me-2"></i>Распределение результатов</h3>
            <div class="row">
                <div class="col-md-6">
                    <canvas id="resultsChart" width="400" height="200"></canvas>
                </div>
                <div class="col-md-6">
                    <canvas id="performanceChart" width="400" height="200"></canvas>
                </div>
            </div>
        </div>

        <!-- Результаты по категориям -->
        
        
        <!-- База данных -->
        <div class="category-section">
            <h3 class="category-title">
                <i class="fas fa-database category-icon"></i>База данных
            </h3>
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Существование моделей
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-excellent"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Все 7 моделей доступны</div>
                    <div class="test-duration">Время выполнения: 0,061с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>counts:</strong> {&#x27;Patient&#x27;: 59, &#x27;Service&#x27;: 14, &#x27;Specialist&#x27;: 3, &#x27;Appointment&#x27;: 131, &#x27;FAQ&#x27;: 12, &#x27;ContactMessage&#x27;: 21, &#x27;DialogLog&#x27;: 104}<br>
                        
                    </div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Целостность данных
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-excellent"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Целостность данных в порядке</div>
                    <div class="test-duration">Время выполнения: 0,097с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>issues:</strong> []<br>
                        
                    </div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Связи между моделями
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-excellent"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Проверено 131/131 записей</div>
                    <div class="test-duration">Время выполнения: 0,016с</div>
                    
                </div>
                
            
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        CRUD операции
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-warning"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Все CRUD операции работают корректно</div>
                    <div class="test-duration">Время выполнения: 0,559с</div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Регистрация моделей в админке
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-excellent"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Зарегистрировано 7/7 моделей</div>
                    <div class="test-duration">Время выполнения: 0,000с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>registered:</strong> [&#x27;Patient&#x27;, &#x27;Service&#x27;, &#x27;Specialist&#x27;, &#x27;Appointment&#x27;, &#x27;FAQ&#x27;, &#x27;ContactMessage&#x27;, &#x27;DialogLog&#x27;]<br>
                        
                    </div>
                    
                </div>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        </div>

        <!-- Админ-интерфейс -->
        <div class="category-section">
            <h3 class="category-title">
                <i class="fas fa-cogs category-icon"></i>Админ-интерфейс
            </h3>
            
                
            
                
            
                
            
                
            
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Регистрация моделей в админке
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-excellent"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Зарегистрировано 7/7 моделей</div>
                    <div class="test-duration">Время выполнения: 0,000с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>registered:</strong> [&#x27;Patient&#x27;, &#x27;Service&#x27;, &#x27;Specialist&#x27;, &#x27;Appointment&#x27;, &#x27;FAQ&#x27;, &#x27;ContactMessage&#x27;, &#x27;DialogLog&#x27;]<br>
                        
                    </div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Конфигурации админки
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-excellent"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Пройдено 6/6 проверок</div>
                    <div class="test-duration">Время выполнения: 0,000с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>checks:</strong> {&#x27;list_display&#x27;: True, &#x27;list_filter&#x27;: True, &#x27;search_fields&#x27;: True, &#x27;actions&#x27;: True, &#x27;colored_status&#x27;: True, &#x27;quick_actions&#x27;: True}<br>
                        
                    </div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Функциональность поиска
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-excellent"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Поиск работает корректно</div>
                    <div class="test-duration">Время выполнения: 0,080с</div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Функциональность фильтров
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-excellent"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Фильтры работают: pending=68, confirmed=48</div>
                    <div class="test-duration">Время выполнения: 0,050с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>pending:</strong> 68<br>
                        
                            <strong>confirmed:</strong> 48<br>
                        
                            <strong>total:</strong> 131<br>
                        
                    </div>
                    
                </div>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        </div>

        <!-- Кастомная функциональность -->
        <div class="category-section">
            <h3 class="category-title">
                <i class="fas fa-magic category-icon"></i>Кастомная функциональность
            </h3>
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Функциональность дашборда
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-warning"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Дашборд работает корректно</div>
                    <div class="test-duration">Время выполнения: 0,532с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>missing_keys:</strong> []<br>
                        
                            <strong>data_keys:</strong> [&#x27;appointments_today&#x27;, &#x27;appointments_week&#x27;, &#x27;appointments_month&#x27;, &#x27;appointments_by_status&#x27;, &#x27;popular_services&#x27;, &#x27;specialists_stats&#x27;, &#x27;recent_messages&#x27;, &#x27;total_patients&#x27;, &#x27;new_patients_month&#x27;, &#x27;channels_stats&#x27;, &#x27;daily_appointments&#x27;]<br>
                        
                    </div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Быстрые действия
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-good"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Быстрые действия работают корректно</div>
                    <div class="test-duration">Время выполнения: 0,103с</div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Массовые действия
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-excellent"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Доступно 3/3 действий</div>
                    <div class="test-duration">Время выполнения: 0,005с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>available_actions:</strong> [&#x27;confirm_appointments&#x27;, &#x27;cancel_appointments&#x27;, &#x27;complete_appointments&#x27;]<br>
                        
                    </div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Цветные статусы
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-good"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Протестировано статусов: 4</div>
                    <div class="test-duration">Время выполнения: 0,171с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>tested_statuses:</strong> [&#x27;pending&#x27;, &#x27;confirmed&#x27;, &#x27;cancelled&#x27;, &#x27;completed&#x27;]<br>
                        
                    </div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Производительность дашборда
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-warning"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Дашборд загружается за 0.879с (лимит: 2.0с)</div>
                    <div class="test-duration">Время выполнения: 0,879с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>dashboard_load_time:</strong> 0,8788590431213379<br>
                        
                            <strong>limit:</strong> 2,0<br>
                        
                    </div>
                    
                </div>
                
            
                
            
                
            
        </div>

        <!-- Производительность -->
        <div class="category-section">
            <h3 class="category-title">
                <i class="fas fa-tachometer-alt category-icon"></i>Производительность
            </h3>
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Производительность дашборда
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-warning"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Дашборд загружается за 0.879с (лимит: 2.0с)</div>
                    <div class="test-duration">Время выполнения: 0,879с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>dashboard_load_time:</strong> 0,8788590431213379<br>
                        
                            <strong>limit:</strong> 2,0<br>
                        
                    </div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Оптимизация запросов
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-good"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Выполнено 1 запросов (лимит: 5)</div>
                    <div class="test-duration">Время выполнения: 0,150с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>query_count:</strong> 1<br>
                        
                            <strong>limit:</strong> 5<br>
                        
                    </div>
                    
                </div>
                
            
                
                <div class="test-result success">
                    <div class="test-name">
                        <span class="test-status">✅</span>
                        Производительность списков
                        <span class="ms-auto">
                            
                                <span class="performance-indicator performance-good"></span>
                            
                        </span>
                    </div>
                    <div class="test-message">Список загружается за 0.119с (лимит: 1.0с)</div>
                    <div class="test-duration">Время выполнения: 0,119с</div>
                    
                    <div class="test-details">
                        <strong>Детали:</strong><br>
                        
                            <strong>list_load_time:</strong> 0,11928892135620117<br>
                        
                            <strong>limit:</strong> 1,0<br>
                        
                    </div>
                    
                </div>
                
            
        </div>

        <!-- Рекомендации -->
        
    </div>

    <div class="footer">
        <p>Отчет сгенерирован автоматически системой тестирования админки</p>
        <p><small>Центр здоровья "Новая Жизнь" © 2025</small></p>
    </div>

    <script>
        // График результатов
        const resultsCtx = document.getElementById('resultsChart').getContext('2d');
        new Chart(resultsCtx, {
            type: 'doughnut',
            data: {
                labels: ['Пройдено', 'Провалено'],
                datasets: [{
                    data: [16, 0],
                    backgroundColor: ['#28a745', '#dc3545'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    },
                    title: {
                        display: true,
                        text: 'Результаты тестов'
                    }
                }
            }
        });

        // График производительности
        const performanceCtx = document.getElementById('performanceChart').getContext('2d');
        const performanceData = [
            
            0,061,
            
            0,097,
            
            0,016,
            
            0,034,
            
            0,559,
            
            0,000,
            
            0,000,
            
            0,080,
            
            0,050,
            
            0,532,
            
            0,103,
            
            0,005,
            
            0,171,
            
            0,879,
            
            0,150,
            
            0,119
            
        ];
        
        new Chart(performanceCtx, {
            type: 'bar',
            data: {
                labels: [
                    
                    'Существование модел…',
                    
                    'Целостность данных',
                    
                    'Связи между моделями',
                    
                    'Обязательные поля',
                    
                    'CRUD операции',
                    
                    'Регистрация моделей…',
                    
                    'Конфигурации админки',
                    
                    'Функциональность по…',
                    
                    'Функциональность фи…',
                    
                    'Функциональность да…',
                    
                    'Быстрые действия',
                    
                    'Массовые действия',
                    
                    'Цветные статусы',
                    
                    'Производительность …',
                    
                    'Оптимизация запросов',
                    
                    'Производительность …'
                    
                ],
                datasets: [{
                    label: 'Время выполнения (сек)',
                    data: performanceData,
                    backgroundColor: performanceData.map(time => {
                        if (time < 0.1) return '#28a745';
                        if (time < 0.5) return '#17a2b8';
                        if (time < 1.0) return '#ffc107';
                        return '#dc3545';
                    }),
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    },
                    title: {
                        display: true,
                        text: 'Производительность тестов'
                    }
                },
                scales: {
                    x: {
                        display: false
                    },
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Секунды'
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
