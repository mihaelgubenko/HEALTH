from django.core.management.base import BaseCommand
from django.utils import timezone
from core.models import Service, Specialist, FAQ, Patient, Appointment
from datetime import datetime, timedelta
import random


class Command(BaseCommand):
    help = '–ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ö–∞—Ç–∞–ª–æ–≥ –ê)'

    def handle(self, *args, **options):
        self.stdout.write('–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö...')

        # –°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥ (–ö–∞—Ç–∞–ª–æ–≥ –ê - –ò–∑—Ä–∞–∏–ª—å)
        services_data = [
            {
                'name': '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Ä–µ–∞–±–∏–ª–∏—Ç–æ–ª–æ–≥–∞',
                'description': '–í–∫–ª—é—á–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞, —Å–±–æ—Ä –∞–Ω–∞–º–Ω–µ–∑–∞, —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –æ—Å–º–æ—Ç—Ä, –æ—Ü–µ–Ω–∫—É –¥–≤–∏–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏. –ù–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —Ä–µ–∞–±–∏–ª–∏—Ç–æ–ª–æ–≥ –æ–±—ä—è—Å–Ω—è–µ—Ç —Å—É—Ç—å —Ç—Ä–∞–≤–º—ã –∏–ª–∏ –±–æ–ª–µ–∑–Ω–∏, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑ –∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–ª–∞–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –õ–§–ö, —Ñ–∏–∑–∏–æ—Ç–µ—Ä–∞–ø–∏—é, –º–∞—Å—Å–∞–∂ –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥–∏–∫–∏.',
                'price': 80,
                'currency': '‚Ç™',
                'duration': 20,
                'catalog': 'A'
            },
            {
                'name': '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–∞',
                'description': '–í–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä–≤–∏—á–Ω—ã–π —Å–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–∞–Ω–∫–µ—Ç–∞ –æ –∑–¥–æ—Ä–æ–≤—å–µ –∏ –ø–∏—Ç–∞–Ω–∏–∏, –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞—Ü–∏–æ–Ω–∞, –æ–±—Å—É–∂–¥–µ–Ω–∏–µ —Ü–µ–ª–µ–π), –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö (–∏–∑—É—á–µ–Ω–∏–µ –∞–Ω–∞–º–Ω–µ–∑–∞, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–æ–≤ –∏–ª–∏ –±–∏–æ–∏–º–ø–µ–¥–∞–Ω—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–ª–∞), —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –ø–∏—Ç–∞–Ω–∏—è (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞—Ü–∏–æ–Ω—É, —Ä–µ–∂–∏–º–∞ –ø–∏—Ç–∞–Ω–∏—è, –¥–æ–±–∞–≤–∫–∞–º) –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å (–∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–ª–∞–Ω–∞, –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –ø–æ–º–æ—â—å –≤ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫).',
                'price': 450,
                'currency': '‚Ç™',
                'duration': 60,
                'catalog': 'A'
            },
            {
                'name': '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –æ—Å—Ç–µ–æ–ø–∞—Ç–∞',
                'description': '–í–∫–ª—é—á–∞–µ—Ç —Å–±–æ—Ä –∞–Ω–∞–º–Ω–µ–∑–∞ (—Ä–∞—Å—Å–ø—Ä–æ—Å –æ —Å–∏–º–ø—Ç–æ–º–∞—Ö, –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å–æ –∑–¥–æ—Ä–æ–≤—å–µ–º, –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–≤–º–∞—Ö –∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è—Ö), –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É (–≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Å–º–æ—Ç—Ä, –ø–∞–ª—å–ø–∞—Ü–∏—è, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç–∏ —Ç–∫–∞–Ω–µ–π, –º—ã—à—Ü, –∫–æ—Å—Ç–µ–π –∏ —Å–≤—è–∑–æ–∫) –∏ –ø–ª–∞–Ω –ª–µ—á–µ–Ω–∏—è (–æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, –∏ –ø—Ä–æ–≥–Ω–æ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞).',
                'price': 80,
                'currency': '‚Ç™',
                'duration': 20,
                'catalog': 'A'
            },
            {
                'name': '–õ–µ—á–µ–±–Ω—ã–π –º–∞—Å—Å–∞–∂ –¥–ª—è –º—É–∂—á–∏–Ω (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —à–≤–µ–¥—Å–∫–∏–π)',
                'description': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —à–≤–µ–¥—Å–∫–∏–π –º–∞—Å—Å–∞–∂ –¥–ª—è –º—É–∂—á–∏–Ω –∏ –ø–∞—Ä–Ω–µ–π-–ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 50-60 –º–∏–Ω—É—Ç.',
                'price': 250,
                'currency': '‚Ç™',
                'duration': 60,
                'catalog': 'A'
            },
            {
                'name': '–õ–µ—á–µ–±–Ω—ã–π –º–∞—Å—Å–∞–∂ –¥–ª—è –∂–µ–Ω—â–∏–Ω (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —à–≤–µ–¥—Å–∫–∏–π)',
                'description': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —à–≤–µ–¥—Å–∫–∏–π –º–∞—Å—Å–∞–∂ –¥–ª—è –∂–µ–Ω—â–∏–Ω, –¥–µ–≤—É—à–µ–∫-–ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤ –∏ –¥–µ—Ç–µ–π. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 50-60 –º–∏–Ω—É—Ç.',
                'price': 250,
                'currency': '‚Ç™',
                'duration': 60,
                'catalog': 'A'
            },
            {
                'name': '–ú–∞—Å—Å–∞–∂ –≥—Ä—É–¥–Ω—ã–º –¥–µ—Ç—è–º',
                'description': '–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∞–∂ –¥–ª—è –≥—Ä—É–¥–Ω—ã—Ö –¥–µ—Ç–µ–π. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 20-30 –º–∏–Ω—É—Ç.',
                'price': 70,
                'currency': '‚Ç™',
                'duration': 30,
                'catalog': 'A'
            },
            {
                'name': '–ú–∞—Å—Å–∞–∂ –±–µ—Ä–µ–º–µ–Ω–Ω—ã–º (–æ—Ç 5 –º–µ—Å—è—Ü–µ–≤)',
                'description': '–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∞–∂ –¥–ª—è –±–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∂–µ–Ω—â–∏–Ω –æ—Ç 5 –º–µ—Å—è—Ü–µ–≤. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 30-40 –º–∏–Ω—É—Ç.',
                'price': 180,
                'currency': '‚Ç™',
                'duration': 40,
                'catalog': 'A'
            },
            {
                'name': '–ö–∏–Ω–µ–∑–∏–æ—Ç–µ–π–ø–∏—Ä–æ–≤–∞–Ω–∏–µ',
                'description': '–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∏ –∏ —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ —Ç—Ä–∞–≤–º –º—ã—à—Ü, —Å–≤—è–∑–æ–∫ –∏ —Å—É—Å—Ç–∞–≤–æ–≤, —Å–Ω–∏–∂–µ–Ω–∏—è –±–æ–ª–µ–π, –æ—Ç–µ–∫–æ–≤ –∏ —É–ª—É—á—à–µ–Ω–∏—è –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –≤ —Å–ø–æ—Ä—Ç–µ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ç—Ä–∞–≤–º –∏ —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.',
                'price': 50,
                'currency': '‚Ç™',
                'duration': 30,
                'catalog': 'A'
            },
            {
                'name': '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ –±–∏–æ—Ä–µ–∑–æ–Ω–∞–Ω—Å–Ω—ã–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º (–±–∞–∑–æ–≤–∞—è)',
                'description': '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –æ—Ä–≥–∞–Ω–∏–∑–º–µ ‚Äî —É–∂–µ —Å–µ–≥–æ–¥–Ω—è. –ë–µ–∑ –±–æ–ª–∏, –±–µ–∑ —É–∫–æ–ª–æ–≤, –±–µ–∑ –æ–±–ª—É—á–µ–Ω–∏—è. –ü–æ–ª–Ω–∞—è —Ä–∞—Å–ø–µ—á–∞—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –±–µ–∑ —ç–ø–∏–∫—Ä–∏–∑–∞.',
                'price': 300,
                'currency': '‚Ç™',
                'duration': 60,
                'catalog': 'A'
            },
            {
                'name': '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ –±–∏–æ—Ä–µ–∑–æ–Ω–∞–Ω—Å–Ω—ã–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è)',
                'description': '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å –≤—ã—è–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º, —ç–ø–∏–∫—Ä–∏–∑–æ–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏.',
                'price': 750,
                'currency': '‚Ç™',
                'duration': 90,
                'catalog': 'A'
            },
            {
                'name': '–ú–∞—Å—Å–∞–∂ –¥–µ—Ç—Å–∫–∏–π',
                'description': '–î–µ—Ç—Å–∫–∏–π –º–∞—Å—Å–∞–∂ –¥–ª—è –¥–µ—Ç–µ–π. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 40-50 –º–∏–Ω—É—Ç.',
                'price': 150,
                'currency': '‚Ç™',
                'duration': 50,
                'catalog': 'A'
            },
            {
                'name': '–ú–∞—Å—Å–∞–∂ –ø–æ—Å–ª–µ —Ä–æ–¥–æ–≤',
                'description': '–ú–∞—Å—Å–∞–∂ –ø–æ—Å–ª–µ —Ä–æ–¥–æ–≤ –æ—Ç 1 –º–µ—Å—è—Ü–∞. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 50-60 –º–∏–Ω—É—Ç.',
                'price': 250,
                'currency': '‚Ç™',
                'duration': 60,
                'catalog': 'A'
            },
            {
                'name': '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ –±–∏–æ—Ä–µ–∑–æ–Ω–∞–Ω—Å–Ω—ã–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º (VIP)',
                'description': '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ –±–∏–æ—Ä–µ–∑–æ–Ω–∞–Ω—Å–Ω—ã–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º - –ø–∞–∫–µ—Ç VIP.',
                'price': 5500,
                'currency': '‚Ç™',
                'duration': 120,
                'catalog': 'A'
            },
            {
                'name': '–ü–æ–¥–±–æ—Ä –∫–æ–º–ø–ª–µ–∫—Å–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π',
                'description': '–ü–æ–¥–±–æ—Ä –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–ø–ª–µ–∫—Å–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –¥–ª—è —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ –ø–æ—Å–ª–µ —Ç—Ä–∞–≤–º, –ø–æ—Å–ª–µ —Ä–æ–¥–æ–≤, —É–¥–∞–ª–µ–Ω–∏—è –≥–∏–ø–æ–∫—Å–∏–∏ –∏ –¥—Ä.',
                'price': 100,
                'currency': '‚Ç™',
                'duration': 45,
                'catalog': 'A'
            }
        ]

        for service_data in services_data:
            service, created = Service.objects.get_or_create(
                name=service_data['name'],
                defaults=service_data
            )
            if created:
                self.stdout.write(f'–°–æ–∑–¥–∞–Ω–∞ —É—Å–ª—É–≥–∞: {service.name}')
            else:
                self.stdout.write(f'–£—Å–ª—É–≥–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {service.name}')

        # –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
        specialists_data = [
            {
                'name': '–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞',
                'specialty': '–í—Ä–∞—á-—Ä–µ–∞–±–∏–ª–∏—Ç–æ–ª–æ–≥, –≤—Ä–∞—á —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π –º–µ–¥–∏—Ü–∏–Ω—ã, –æ—Å—Ç–µ–æ–ø–∞—Ç',
                'description': '–°—Ç–∞–∂ —Ä–∞–±–æ—Ç—ã —Å 2010 –≥–æ–¥–∞. –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è: —Ç—Ä–∞–≤–º—ã –∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è –û–î–ê, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π, —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤, –æ–Ω–∫–æ—Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è, –¥–µ—Ç—Å–∫–∞—è —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è.',
                'working_hours': {
                    'monday': {'start': '09:00', 'end': '19:00'},
                    'tuesday': {'start': '09:00', 'end': '19:00'},
                    'wednesday': {'start': '09:00', 'end': '19:00'},
                    'thursday': {'start': '09:00', 'end': '19:00'},
                    'friday': {'start': '09:00', 'end': '15:00'},
                    'saturday': {'start': '09:00', 'end': '14:00'},
                    'sunday': {'start': '10:00', 'end': '16:00'}
                }
            },
            {
                'name': '–†–∏–º–º–∞',
                'specialty': '–í—Ä–∞—á –ø–µ–¥–∏–∞—Ç—Ä, –≤—Ä–∞—á –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥',
                'description': '–ö–∞–Ω–¥–∏–¥–∞—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –Ω–∞—É–∫. –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã 40 –ª–µ—Ç. –û–±–ª–∞–¥–∞–µ—Ç –≥–ª—É–±–æ–∫–∏–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ –≤ –æ–±–ª–∞—Å—Ç–∏ –¥–µ—Ç—Å–∫–æ–≥–æ –∏ –≤–∑—Ä–æ—Å–ª–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è, –ø–∏—Ç–∞–Ω–∏—è –∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ–π –º–µ–¥–∏—Ü–∏–Ω—ã.',
                'working_hours': {
                    'monday': {'start': '10:00', 'end': '18:00'},
                    'tuesday': {'start': '10:00', 'end': '18:00'},
                    'wednesday': {'start': '10:00', 'end': '18:00'},
                    'thursday': {'start': '10:00', 'end': '18:00'},
                    'friday': {'start': '10:00', 'end': '15:00'},
                    'saturday': {'start': '10:00', 'end': '14:00'},
                    'sunday': {'start': '10:00', 'end': '14:00'}
                }
            },
            {
                'name': '–ê–≤—Ä–∞–∞–º',
                'specialty': '–ú–∞—Å—Å–∞–∂–∏—Å—Ç',
                'description': '–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –º–∞–Ω—É–∞–ª—å–Ω–æ–π —Ç–µ—Ä–∞–ø–∏–∏, –ª–µ—á–µ–±–Ω–æ–º –º–∞—Å—Å–∞–∂–µ, –∞–∫—É–ø—É–Ω–∫—Ç—É—Ä–µ, –≤–∞–∫—É—É–º–Ω—ã—Ö –±–∞–Ω–∫–∞—Ö –∏ –∫–∏–Ω–µ–∑–∏–æ—Ç–µ–π–ø–∏—Ä–æ–≤–∞–Ω–∏–∏.',
                'working_hours': {
                    'monday': {'start': '09:00', 'end': '19:00'},
                    'tuesday': {'start': '09:00', 'end': '19:00'},
                    'wednesday': {'start': '09:00', 'end': '19:00'},
                    'thursday': {'start': '09:00', 'end': '19:00'},
                    'friday': {'start': '09:00', 'end': '15:00'},
                    'saturday': {'start': '09:00', 'end': '14:00'},
                    'sunday': {'start': '10:00', 'end': '16:00'}
                }
            }
        ]

        for specialist_data in specialists_data:
            specialist, created = Specialist.objects.get_or_create(
                name=specialist_data['name'],
                defaults=specialist_data
            )
            if created:
                self.stdout.write(f'–°–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç: {specialist.name}')
            else:
                self.stdout.write(f'–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {specialist.name}')

        # –°–æ–∑–¥–∞–Ω–∏–µ FAQ
        faq_data = [
            {
                'question': '–ö–∞–∫–∏–µ —É –≤–∞—Å —Ü–µ–Ω—ã –Ω–∞ —É—Å–ª—É–≥–∏?',
                'answer': '–£ –Ω–∞—Å –≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Ä–µ–∞–±–∏–ª–∏—Ç–æ–ª–æ–≥–∞ - 80‚Ç™, –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–∞ - 450‚Ç™, –º–∞—Å—Å–∞–∂ - 250‚Ç™. –ü–æ–ª–Ω—ã–π –ø—Ä–∞–π—Å-–ª–∏—Å—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —Å–∞–π—Ç–µ.',
                'category': 'prices',
                'language': 'ru'
            },
            {
                'question': '–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–∞—à —Ü–µ–Ω—Ç—Ä?',
                'answer': '–ù–∞—à —Ü–µ–Ω—Ç—Ä —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –ò–∑—Ä–∞–∏–ª–µ. –†–∞–º–æ—Ç –ê–ª–µ—Ñ. —É–ª. –°—É–ª–∞–º –Ø–∫–æ–≤ 1/3. –¢–æ—á–Ω—ã–π –∞–¥—Ä–µ—Å –∏ –∫–∞—Ä—Ç—É –ø—Ä–æ–µ–∑–¥–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–∏–µ–º.',
                'category': 'address',
                'language': 'ru'
            },
            {
                'question': '–ï—Å—Ç—å –ª–∏ –ø–∞—Ä–∫–æ–≤–∫–∞?',
                'answer': '–î–∞, —É –Ω–∞—Å –µ—Å—Ç—å —É–¥–æ–±–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤. –î–µ—Ç–∞–ª–∏ —É—Ç–æ—á–Ω—è–π—Ç–µ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏.',
                'category': 'parking',
                'language': 'ru'
            },
            {
                'question': '–ù—É–∂–Ω–∞ –ª–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ?',
                'answer': '–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏.',
                'category': 'preparation',
                'language': 'ru'
            }
        ]

        for faq_item in faq_data:
            faq, created = FAQ.objects.get_or_create(
                question=faq_item['question'],
                defaults=faq_item
            )
            if created:
                self.stdout.write(f'–°–æ–∑–¥–∞–Ω FAQ: {faq.question[:50]}...')
            else:
                self.stdout.write(f'FAQ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {faq.question[:50]}...')

        # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
        test_patients = [
            {'name': '–ú–∏—Ö–∞–∏–ª –ò–≤–∞–Ω–æ–≤', 'phone': '+972504611186', 'email': 'mikhail@example.com'},
            {'name': '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞', 'phone': '+972526784512', 'email': 'anna@example.com'},
            {'name': '–î–∞–≤–∏–¥ –ö–æ—ç–Ω', 'phone': '+972537894561', 'email': 'david@example.com'},
            {'name': '–°–∞—Ä–∞ –õ–µ–≤–∏', 'phone': '+972548965123', 'email': 'sara@example.com'},
            {'name': '–ê–ª–µ–∫—Å–µ–π –°–º–∏—Ä–Ω–æ–≤', 'phone': '+972559632147', 'email': 'alexey@example.com'},
            {'name': '–ú–∞—Ä–∏—è –†–æ–∑–µ–Ω–±–µ—Ä–≥', 'phone': '+972561234567', 'email': 'maria@example.com'},
            {'name': '–ò–≥–æ—Ä—å –í–æ–ª–∫–æ–≤', 'phone': '+972572345678', 'email': 'igor@example.com'},
            {'name': '–û–ª—å–≥–∞ –ì–æ–ª—å–¥—à—Ç–µ–π–Ω', 'phone': '+972583456789', 'email': 'olga@example.com'},
        ]
        
        created_patients = []
        for patient_data in test_patients:
            patient, created = Patient.objects.get_or_create(
                phone=patient_data['phone'],
                defaults=patient_data
            )
            if created:
                self.stdout.write(f'–°–æ–∑–¥–∞–Ω –ø–∞—Ü–∏–µ–Ω—Ç: {patient.name}')
                created_patients.append(patient)
            else:
                created_patients.append(patient)
                self.stdout.write(f'–ü–∞—Ü–∏–µ–Ω—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {patient.name}')
        
        # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π (–±—É–¥—É—â–∏–µ –∑–∞–ø–∏—Å–∏)
        services = Service.objects.all()
        specialists = Specialist.objects.all()
        
        if services.exists() and specialists.exists() and created_patients:
            appointment_templates = [
                # –ë—É–¥—É—â–∏–µ –∑–∞–ø–∏—Å–∏ –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –∏ –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞
                {
                    'days_ahead': 1,
                    'times': ['09:00', '10:00', '11:00', '15:00', '16:00'],
                    'count': 3
                },
                {
                    'days_ahead': 2, 
                    'times': ['09:00', '12:00', '17:00', '18:00'],
                    'count': 2
                },
                {
                    'days_ahead': 3,
                    'times': ['10:00', '14:00', '16:00'],
                    'count': 2
                }
            ]
            
            created_appointments_count = 0
            for template in appointment_templates:
                for i in range(template['count']):
                    patient = random.choice(created_patients)
                    service = random.choice(services)
                    specialist = random.choice(specialists)
                    
                    # –í—ã–±–∏—Ä–∞–µ–º –≤—Ä–µ–º—è
                    appointment_time = random.choice(template['times'])
                    appointment_date = (timezone.now() + timedelta(days=template['days_ahead'])).date()
                    
                    # –°–æ–∑–¥–∞–µ–º datetime
                    start_datetime = timezone.make_aware(
                        datetime.combine(appointment_date, datetime.strptime(appointment_time, '%H:%M').time())
                    )
                    end_datetime = start_datetime + timedelta(minutes=service.duration)
                    
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
                    conflicts = Appointment.objects.filter(
                        specialist=specialist,
                        start_time__date=appointment_date,
                        start_time__time=start_datetime.time(),
                        status__in=['pending', 'confirmed']
                    )
                    
                    if not conflicts.exists():
                        appointment = Appointment.objects.create(
                            patient=patient,
                            service=service,
                            specialist=specialist,
                            start_time=start_datetime,
                            end_time=end_datetime,
                            status=random.choice(['pending', 'confirmed']),
                            channel='web',
                            notes=f'–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–ø–∏—Å—å –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏'
                        )
                        created_appointments_count += 1
                        self.stdout.write(f'–°–æ–∑–¥–∞–Ω–∞ –∑–∞–ø–∏—Å—å: {patient.name} ‚Üí {specialist.name} –Ω–∞ {start_datetime.strftime("%d.%m.%Y %H:%M")}')
            
            self.stdout.write(f'–°–æ–∑–¥–∞–Ω–æ {created_appointments_count} —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π')

        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        self.stdout.write(f'\n--- –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ó–ê–ì–†–£–ñ–ï–ù–ù–´–• –î–ê–ù–ù–´–• ---')
        self.stdout.write(f'–£—Å–ª—É–≥: {Service.objects.count()}')
        self.stdout.write(f'–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤: {Specialist.objects.count()}') 
        self.stdout.write(f'FAQ: {FAQ.objects.count()}')
        self.stdout.write(f'–ü–∞—Ü–∏–µ–Ω—Ç–æ–≤: {Patient.objects.count()}')
        self.stdout.write(f'–ó–∞–ø–∏—Å–µ–π: {Appointment.objects.count()}')

        self.stdout.write(
            self.style.SUCCESS('\nüéâ –ù–∞—á–∞–ª—å–Ω—ã–µ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!')
        )
